const translations = {
    ru: {
        // ========== НАВИГАЦИЯ ==========
        "nav.home": "Главная",
        "nav.map": "Карта",
        "nav.artifacts": "Артефакты",
        "nav.calculator": "Калькулятор",
        "nav.dps": "DPS",
        "nav.mapFull": "Интерактивная карта",
        "nav.artifactsTable": "Таблица артефактов",
        "nav.buildsCalculator": "Калькулятор сборок",
        "nav.dpsCalculator": "Калькулятор DPS",

        // ========== ГЛАВНАЯ СТРАНИЦА ==========
        "hero.desc": "Официальная база знаний по игре Project Cataclysm",
        "cards.artifacts.title": "Артефакты",
        "cards.artifacts.desc": "Полный каталог с характеристиками и ценами",
        "cards.calculator.title": "Калькулятор сборок",
        "cards.calculator.desc": "Собери оптимальный билд артефактов",
        "cards.dps.title": "Калькулятор DPS",
        "cards.dps.desc": "Расчёт урона в секунду",
        "cards.map.title": "Интерактивная карта",
        "cards.map.desc": "Все локации и точки интереса",

        // Частоты RF-ресивера
        "rf.title": "Частоты RF-ресивера",
        "rf.mhz": "МГц",
        "rf.junkyard": "Свалка",
        "rf.agroprom": "Агропром",
        "rf.darkHollow": "Тёмная лощина",
        "rf.darkValley": "Тёмная долина",
        "rf.redForest": "Редколесье",
        "rf.wildTerritory": "Дикая территория",
        "rf.yantar": "Янтарь",
        "rf.meadow": "Поляна",
        "rf.anthill": "Муравейник",
        "rf.polissya": "Полесское",
        "rf.militaryWarehouses": "Военные склады",
        "rf.crater": "Котловина",

        // Обновления
        "updates.title": "Обновления",
        "updates.date0": "5 февраля 2026",
        "updates.update0_1": "Весь сайт был переведён на английский язык",
        "updates.update0_2": "Добавлена кнопка переключения языка",
        "updates.date1": "3 февраля 2026",
        "updates.update1_1": "Добавлена интерактивная карта",
        "updates.update1_2": "Отмечены ящики, мутанты, торговцы и НПС",
        "updates.update1_3": "Реализована система фильтров",
        "updates.date2": "2 февраля 2026",
        "updates.update2_1": "Полностью обновлён UX калькулятора DPS",
        "updates.update2_2": "Была занесена вся информация об оружии в игре",
        "updates.update2_3": "Реализован подсчёт ТТК через график",
        "updates.date3": "1 февраля 2026",
        "updates.update3_1": "Перестроена главная страница",
        "updates.update3_2": "Добавлены частоты RF-ресивера",
        "updates.update3_3": "Добавлено 6 новых бронекостюмов",
        "updates.update3_4": "Исправлены пресеты заточки экзоскелетов",
        "updates.date4": "30 января 2026",
        "updates.update4_1": "Калькулятор сборок обновлён до финальной версии",
        "updates.update4_2": "Добавлена большая часть снаряжения",
        "updates.update4_3": "Переработан UX калькулятора",
        "updates.date5": "23 января 2026",
        "updates.update5_1": "Дополнен функционал калькулятора",
        "updates.update5_2": "Добавлен экзоскелет \"Иггдрасиль\"",
        "updates.update5_3": "Добавлены вариации артефакта \"Бокал\"",
        "updates.date6": "11 января 2026",
        "updates.update6_1": "Добавлен калькулятор сборок артефактов",
        "updates.update6_2": "Обновлён дизайн сайта",

        // О проекте
        "about.title": "О проекте",
        "about.text": "<strong>Project Cataclysm Wiki</strong> — официальная база знаний по игре. Здесь собрана актуальная информация: таблицы артефактов, калькулятор сборок, интерактивная карта и справочные данные.",

        // Футер
        "footer.copy": "© 2026 Project Cataclysm Wiki. Официальный сайт.",

        // ========== СТРАНИЦА АРТЕФАКТОВ ==========
        "artifacts.pageTitle": "Артефакты",
        "artifacts.pageSubtitle": "Полный каталог артефактов с характеристиками и ценами",
        "artifacts.cat.gravity": "Гравитационные",
        "artifacts.cat.chemical": "Химические",
        "artifacts.cat.electric": "Электрические",
        "artifacts.cat.thermal": "Термические",
        "artifacts.cat.unique": "Уникальные",
        "artifacts.cat.frost": "Морозные",
        "artifacts.catFull.gravity": "Гравитационные артефакты",
        "artifacts.catFull.chemical": "Химические артефакты",
        "artifacts.catFull.electric": "Электрические артефакты",
        "artifacts.catFull.thermal": "Термические артефакты",
        "artifacts.catFull.unique": "Уникальные артефакты",
        "artifacts.catFull.frost": "Морозные артефакты",
        "artifacts.artifactsCount": "артефактов",
        "artifacts.winterEvent": "Зимний ивент",
        "artifacts.th.tier": "Ур.",
        "artifacts.th.icon": "Иконка",
        "artifacts.th.name": "Название",
        "artifacts.th.properties": "Свойства",
        "artifacts.th.price": "Цена",
        "artifacts.price.cantSell": "Нельзя продать",
        "artifacts.price.event": "Ивент",

        // Свойства артефактов
        "prop.regeneration": "Регенерация",
        "prop.bleeding": "Кровотечение",
        "prop.radiation": "Радиация",
        "prop.radiationProtection": "Защита от радиации",
        "prop.tearProtection": "Защита от разрывов",
        "prop.maxWeight": "Макс. вес",
        "prop.bulletProof": "Пулестойкость",
        "prop.psiProtection": "Защита от пси-излучения",
        "prop.maxStamina": "Максимальная выносливость",
        "prop.impactDamping": "Гашение удара",
        "prop.satiety": "Насыщение",
        "prop.bioProtection": "Защита от биозаражения",
        "prop.tempProtection": "Защита от температуры",
        "prop.thermalProtection": "Термозащита",
        "prop.chemProtection": "Химзащита",
        "prop.staminaRegen": "Восстановление сил",
        "prop.electroProtection": "Электрозащита",
        "prop.frostProtection": "Защита от обморожения",
        "prop.moveSpeed": "Скорость передвижения",
        "prop.cold": "Холод",
        "prop.sec": "сек",
        "prop.kg": "кг",
        "prop.msvSec": "мЗв/сек",

        // Названия артефактов
        "artifact.bloodStone": "Кровь камня",
        "artifact.vyvert": "Выверт",
        "artifact.medusa": "Медуза",
        "artifact.stoneFlower": "Каменный цветок",
        "artifact.meatChunk": "Ломоть мяса",
        "artifact.gravi": "Грави",
        "artifact.nightStar": "Ночная звезда",
        "artifact.mercuryBall": "Ртутный шар",
        "artifact.goldFish": "Золотая рыбка",
        "artifact.spring": "Пружина",
        "artifact.goldenGravi": "Золотистый грави",
        "artifact.yantarnik": "Янтарник",
        "artifact.soul": "Душа",
        "artifact.darkMedusa": "Тёмная медуза",
        "artifact.protoMedusa": "Протомедуза",
        "artifact.slime": "Слизь",
        "artifact.thorn": "Колючка",
        "artifact.slug": "Слизняк",
        "artifact.bileStone": "Желчь камня",
        "artifact.swampRot": "Болотный гнилец",
        "artifact.crystalThorn": "Кристальная колючка",
        "artifact.firefly": "Светляк",
        "artifact.mica": "Слюда",
        "artifact.pellicle": "Плёнка",
        "artifact.seaUrchin": "Морской ёж",
        "artifact.kolobok": "Колобок",
        "artifact.bubble": "Пузырь",
        "artifact.sparkler": "Бенгальский огонь",
        "artifact.flash": "Вспышка",
        "artifact.battery": "Батарейка",
        "artifact.moonlight": "Лунный свет",
        "artifact.heavenlyStone": "Небесный камень",
        "artifact.medium": "Медиум",
        "artifact.electroMica": "Электрослюда",
        "artifact.dummy": "Пустышка",
        "artifact.halogen": "Галоген",
        "artifact.snowflake": "Снежинка",
        "artifact.droplet": "Капля",
        "artifact.crystal": "Кристалл",
        "artifact.fireball": "Огненный шар",
        "artifact.momBeads": "Мамины бусы",
        "artifact.eye": "Глаз",
        "artifact.flame": "Пламя",
        "artifact.fireLoop": "Огненная петля",
        "artifact.dragonEye": "Глаз дракона",
        "artifact.generator": "Генератор",
        "artifact.medallion": "Медальон",
        "artifact.gobletBio": "Бокал (био)",
        "artifact.gobletGravity": "Бокал (грави)",
        "artifact.gobletThermal": "Бокал (терма)",
        "artifact.protoSnowflake": "Прото-снежинка",
        "artifact.frostbiter": "Обморожник",
        "artifact.iceCrystal": "Ледяной кристалл",
        "artifact.polarStar": "Полярная звезда",
        "artifact.purpleTear": "Пурпурная слеза",
        "artifact.iceFlower": "Ледоцвет",
        "artifact.tesseract": "Тессеракт",

        // ========== КАЛЬКУЛЯТОР СБОРОК ==========
        "calc.pageTitle": "Калькулятор сборок",
        "calc.pageSubtitle": "Собери оптимальный билд с учётом брони, контейнера и артефактов",
        "calc.armor": "Броня",
        "calc.container": "Контейнер",
        "calc.artifacts": "Артефакты",
        "calc.selectArmor": "Выберите броню...",
        "calc.searchArmor": "Поиск брони...",
        "calc.selectContainer": "Выберите контейнер...",
        "calc.searchContainer": "Поиск контейнера...",
        "calc.resetSelection": "Сбросить выбор",
        "calc.selectArmorHint": "Выберите броню для просмотра характеристик",
        "calc.selectContainerHint": "Выберите контейнер для добавления артефактов",
        "calc.enhancementLevel": "Уровень заточки",
        "calc.noBonuses": "Бонусы отсутствуют",
        "calc.totalStats": "Итоговые характеристики",
        "calc.resetBuild": "Сбросить сборку",
        "calc.keyEffects": "Ключевые эффекты",
        "calc.effectiveBulletResistance": "Приведённая пулестойкость",
        "calc.bulletResistanceHint": "Процент снижения урона от пуль (формула с убывающей отдачей). Бронебойность патрона снижает эффективную пулестойкость.",

        // Группы характеристик
        "calc.group.protections": "Защиты",
        "calc.group.resistances": "Сопротивления",
        "calc.group.armor": "Броня",
        "calc.group.character": "Персонаж",

        // Характеристики калькулятора
        "calc.stat.regeneration": "Регенерация",
        "calc.stat.bleeding": "Кровотечение",
        "calc.stat.radiation": "Радиация",
        "calc.stat.saturation": "Насыщение",
        "calc.stat.cold": "Холод",
        "calc.stat.radiationProtection": "Защита от радиации",
        "calc.stat.bioProtection": "Защита от биозаражения",
        "calc.stat.thermalProtection": "Защита от температуры",
        "calc.stat.psiProtection": "Защита от пси-излучения",
        "calc.stat.frostProtection": "Защита от обморожения",
        "calc.stat.heatResistance": "Термозащита",
        "calc.stat.chemResistance": "Химзащита",
        "calc.stat.electroResistance": "Электрозащита",
        "calc.stat.impactResistance": "Гашение удара",
        "calc.stat.tearProtection": "Защита от разрывов",
        "calc.stat.bulletResistance": "Пулестойкость",
        "calc.stat.maxStamina": "Макс. выносливость",
        "calc.stat.staminaRegen": "Восстановление сил",
        "calc.stat.moveSpeed": "Скорость передвижения",
        "calc.stat.maxWeight": "Макс. вес",

        // Модальное окно выбора артефакта
        "calc.modal.title": "Выбор артефакта",
        "calc.modal.slot": "Слот",
        "calc.modal.searchPlaceholder": "Название артефакта...",
        "calc.modal.found": "Найдено:",
        "calc.modal.artifactsCount": "артефактов",
        "calc.modal.catAll": "Все",
        "calc.modal.catGravity": "Грави",
        "calc.modal.catChemical": "Хим",
        "calc.modal.catElectric": "Электро",
        "calc.modal.catThermal": "Терм",
        "calc.modal.catUnique": "Уник",
        "calc.modal.catFrost": "Мороз",
        "calc.modal.noResults": "Артефакты не найдены",
        "calc.modal.tryOtherFilters": "Попробуйте изменить фильтры",

        // Слоты и предупреждения
        "calc.slot.empty": "Пустой слот",
        "calc.slot.clickToAdd": "Нажмите, чтобы добавить",
        "calc.warning.attention": "Внимание",
        "calc.warning.radiation": "Накопление радиации",
        "calc.warning.cold": "Накопление холода",
        "calc.warning.bleeding": "Накопление кровотечения",
        "calc.warning.healthLoss": "Потеря здоровья",
        "calc.warning.saturation": "Накопление голода",

        // Редкости
        "calc.rarity.legendary": "Легендарный",
        "calc.rarity.unique": "Уникальный",
        "calc.rarity.rare": "Редкий",
        "calc.rarity.collection": "Коллекционный",
        "calc.rarity.uncommon": "Необычный",
        "calc.rarity.common": "Обычный",

        // Типы контейнеров
        "calc.containerType.standard": "Стандартный",
        "calc.containerType.bulky": "Громоздкий",
        "calc.containerType.compact": "Компактный",
        "calc.containerType.spacious": "Вместительный",

        // Единицы измерения
        "calc.unit.sec": "сек",
        "calc.unit.kg": "кг",
        "calc.unit.msvSec": "мЗв/сек",
        "calc.unit.slots": "слотов",
        "calc.unit.perSec": "/сек",
        "calc.unit.percentSec": "%/сек",

        // Прочее калькулятора
        "calc.armorNotFound": "Броня не найдена",
        "calc.containerNotFound": "Контейнер не найден",
        "calc.shielding": "Экран",
        "calc.noShielding": "Без экрана",
        "calc.noShieldingFull": "Нет экранирования",
        "calc.shieldingTitle": "Экранирование",
        "calc.removeArtifact": "Удалить артефакт",
        "calc.filter.any": "Любой",
        "calc.filter.byProperties": "Фильтры по свойствам",
        "calc.filter.positive": "Положительный",
        "calc.filter.negative": "Отрицательный",
        "calc.filter.resetAll": "Сбросить всё",

        // ========== DPS КАЛЬКУЛЯТОР ==========
        "dps.pageTitle": "DPS Калькулятор",
        "dps.pageSubtitle": "Сравни урон оружия с учётом брони, патронов и дистанции",
        "dps.weaponNotFound": "Оружие не найдено",

        // Характеристики оружия
        "dps.stat.verticalRecoil": "Верт. отдача",
        "dps.stat.horizontalRecoil": "Гориз. отдача",
        "dps.stat.hipSpread": "Разброс от бедра",
        "dps.stat.adsSpread": "Разброс в прицеле",
        "dps.stat.armorPen": "Бронебойность",
        "dps.stat.damage": "Урон",
        "dps.stat.rpm": "Скорострельность",
        "dps.stat.accuracy": "Точность",
        "dps.stat.recoil": "Отдача",
        "dps.stat.range": "Дальность",
        "dps.stat.magazine": "Магазин",
        "dps.stat.reloadTime": "Перезарядка",
        "dps.stat.headshotMult": "Множ. хедшота",

        // Слоты сравнения
        "dps.notSelected": "Не выбрано",
        "dps.remove": "Удалить",
        "dps.add": "Добавить",
        "dps.slot1": "Слот 1",
        "dps.slot2": "Слот 2",
        "dps.slot3": "Слот 3",
        "dps.slot4": "Слот 4",
        "dps.slot5": "Слот 5",

        // Оружие
        "dps.weapon": "Оружие",
        "dps.selectWeapon": "Выберите оружие...",
        "dps.searchWeapon": "Поиск оружия...",
        "dps.resetSelection": "Сбросить выбор",
        "dps.selectWeaponHint": "Выберите оружие для расчёта",

        // Патроны
        "dps.ammo": "Патроны",
        "dps.selectWeaponFirst": "Сначала выберите оружие...",
        "dps.selectAmmo": "Выберите патроны...",
        "dps.damageModifier": "Модификатор урона",
        "dps.armorPenetration": "Бронепробитие",
        "dps.pelletCount": "Количество дробин",

        // Цель
        "dps.target": "Цель",
        "dps.bulletResistance": "Пулестойкость",
        "dps.targetHP": "HP цели",
        "dps.distance": "Дистанция (м)",
        "dps.bulletProtection": "Защита от пуль:",
        "dps.effectiveProtection": "Эффективная защита:",

        // График TTK
        "dps.ttkChart": "График TTK",
        "dps.body": "Тело",
        "dps.head": "Голова",
        "dps.chartHint": "Кликните на график чтобы установить дистанцию",
        "dps.chartPlaceholder": "Выберите оружие для отображения графика TTK",

        // Результаты
        "dps.results": "Результаты",
        "dps.resetAll": "Сбросить всё",
        "dps.dpsBody": "DPS (тело)",
        "dps.dpsHead": "DPS (голова)",
        "dps.damagePerShot": "Урон за выстрел",
        "dps.baseDamage": "Базовый",
        "dps.atDistance": "На дистанции",
        "dps.afterArmor": "После брони",
        "dps.headshot": "В голову",
        "dps.sec": "сек",
        "dps.shots": "выстр.",
        "dps.weaponStats": "Характеристики оружия",
        "dps.weaponComparison": "Сравнение оружия",

        // Категории оружия
        "dps.cat.assault": "Штурмовые винтовки",
        "dps.cat.smg": "Пистолеты-пулемёты",
        "dps.cat.pistol": "Пистолеты",
        "dps.cat.shotgun": "Дробовики",
        "dps.cat.sniper": "Снайперские винтовки",
        "dps.cat.machinegun": "Пулемёты",
        "dps.cat.special": "Особое",

        // Редкости оружия
        "dps.rarity.common": "Обычный",
        "dps.rarity.uncommon": "Необычный",
        "dps.rarity.collection": "Коллекционный",
        "dps.rarity.rare": "Редкий",
        "dps.rarity.unique": "Уникальный",
        "dps.rarity.legendary": "Легендарный",

        // Таблица сравнения
        "dps.table.weapon": "Оружие",
        "dps.table.dpsBody": "DPS (тело)",
        "dps.table.dpsHead": "DPS (голова)",
        "dps.table.ttkBody": "TTK (тело)",
        "dps.table.ttkHead": "TTK (голова)",
        "dps.table.shotsBody": "Выстрелов",
        "dps.table.shotsHead": "Выстрелов",

        // Типы патронов
        "dps.ammoType.standard": "Стандартные",
        "dps.ammoType.hp": "Экспансивные (HP)",
        "dps.ammoType.ap": "Бронебойные (AP)",
        "dps.ammoType.match": "Матчевые",
        "dps.ammoType.tracer": "Трассирующие",
        "dps.ammoType.subsonic": "Дозвуковые",
        "dps.ammoType.buckshot": "Картечь",
        "dps.ammoType.slug": "Пуля",
        "dps.ammoType.flechette": "Флешетт",

        // Описания патронов
        "dps.ammoDesc.standard": "Стандартные патроны",
        "dps.ammoDesc.hp": "Повышенный урон, низкое пробитие",
        "dps.ammoDesc.ap": "Высокое пробитие брони",
        "dps.ammoDesc.match": "Повышенная точность",
        "dps.ammoDesc.tracer": "Видимая траектория",
        "dps.ammoDesc.subsonic": "Тихие, для глушителя",
        "dps.ammoDesc.buckshot": "Множество дробин",
        "dps.ammoDesc.slug": "Одиночная пуля",
        "dps.ammoDesc.flechette": "Стрелки, высокое пробитие",

        // ========== ИНТЕРАКТИВНАЯ КАРТА ==========
        "map.filters.title": "Фильтры",
        "map.filters.resetAll": "Сбросить всё",
        "map.sidebar.toggle": "Свернуть/развернуть",

        // Категории меток
        "map.category.containers": "Контейнеры",
        "map.category.mutants": "Мутанты",
        "map.category.traders": "Торговцы",
        "map.category.npc": "НПС",

        // Типы меток — контейнеры
        "map.marker.ammo": "Патроны",
        "map.marker.supply": "Припасы",
        "map.marker.tools": "Инструменты",
        "map.marker.barrels": "Бочки",
        "map.marker.science": "Научное оборудование",
        "map.marker.stash": "Тайники",

        // Типы меток — мутанты
        "map.marker.blind_dog": "Слепые псы",
        "map.marker.pseudodog": "Псевдособаки",
        "map.marker.flesh": "Плоти",
        "map.marker.boar": "Кабаны",
        "map.marker.rat": "Крысы",
        "map.marker.snork": "Снорки",
        "map.marker.zombie": "Зомби",
        "map.marker.bloodsucker": "Кровосос",
        "map.marker.bloodsucker_strong": "Матёрый кровосос",
        "map.marker.chimera": "Химера",

        // Типы меток — торговцы
        "map.marker.trader": "Маклак",

        // Типы меток — НПС
        "map.marker.zombified": "Зомбированные",
        "map.marker.bandits": "Бандиты",
        "map.marker.military": "Военные",
        "map.marker.freedom": "Свободовцы",
        "map.marker.duty": "Долговцы",
        "map.marker.mercs": "Наемники",
        "map.marker.sins": "Греховцы",
        "map.marker.monolith": "Монолитовцы",
        "map.marker.obliterator": "Облитератор",

        // Управление картой
        "map.controls.zoomIn": "Приблизить",
        "map.controls.zoomOut": "Отдалить",
        "map.controls.resetView": "Сбросить вид",
        "map.controls.fullscreen": "Полноэкранный режим",

        // Пользовательские метки
        "map.userMarkers.addMarker": "Добавить метку",
        "map.userMarkers.yourMarkers": "Ваши метки",
        "map.userMarkers.copyAll": "Копировать все",
        "map.userMarkers.deleteAll": "Удалить все",
        "map.userMarkers.clickToAdd": "Нажмите на карту, чтобы добавить метку",
        "map.userMarkers.copyForSharing": "Копировать для отправки",
        "map.userMarkers.cancel": "Отменить",
        "map.userMarkers.showOnMap": "Показать на карте",
        "map.userMarkers.copy": "Копировать",
        "map.userMarkers.delete": "Удалить",

        // Модальное окно метки
        "map.modal.newMarker": "Новая метка",
        "map.modal.coordinates": "Координаты:",
        "map.modal.category": "Категория:",
        "map.modal.selectCategory": "Выберите категорию",
        "map.modal.description": "Описание / Комментарий:",
        "map.modal.descriptionPlaceholder": "Например: На втором этаже, за ящиками...",
        "map.modal.gameCoords": "Игровые координаты (если знаете):",
        "map.modal.gameCoordsPlaceholder": "Например: -426, 69, -370",
        "map.modal.cancel": "Отмена",
        "map.modal.add": "Добавить",

        // Уведомления карты
        "map.toast.copied": "Скопировано в буфер обмена!",
        "map.toast.markerAdded": "Метка добавлена!",
        "map.toast.markerCodeCopied": "Код метки скопирован!",
        "map.toast.allMarkersCopied": "Все метки скопированы!",
        "map.toast.copiedForDiscord": "Скопировано для Discord!",
        "map.toast.allMarkersDeleted": "Все метки удалены",
        "map.confirm.deleteAllMarkers": "Удалить все ваши метки?",

        // Всплывающие окна карты
        "map.popup.yourMarker": "ваша метка",
        "map.popup.gameCoords": "Игровые",
        "map.popup.pixels": "Пиксели",

        // Локации мутантов
        "map.mutant.location.tunnel": "Лаборатория в тоннеле",
        "map.mutant.location.tunnelMini": "Мини лаборатория в тоннеле",
        "map.mutant.location.inLab": "Находится в лаборатории",
        "map.mutant.location.agropromUnderground": "Подземелья Агропрома",
        "map.mutant.location.cave": "Лаборатория в пещере",
        "map.mutant.location.x16": "Лаборатория X-16",
        "map.mutant.location.x16exit": "Выход из лаборатории X-16",
        "map.mutant.location.x18": "Лаборатория X-18",
        "map.mutant.location.x18floor1": "Лаборатория X-18<br>-1 этаж",
        "map.mutant.location.x18floor2": "Лаборатория X-18<br>-2 этаж",

        // Контейнеры
        "map.container.coords": "Координаты",
        "map.container.alsoContains": "Также лежит",
        "map.container.track": "Трек",

        // Торговцы
        "map.trader.appearsOn": "Появляется",
        "map.trader.time": "Время",
        "map.trader.floor3": "на третьем этаже",
        "map.trader.roofUpper": "на верхнем ярусе крыши",
        "map.trader.boilerFloor2": "на втором этаже бойлерной",
        "map.trader.farRoom": "на втором этаже в крайней комнате",
        "map.trader.corridor": "на втором этаже в коридоре",
        "map.trader.untilRainEnds": "конец дождя",

        // НПС
        "map.npc.base": "База",
        "map.npc.checkpoint": "блокпост",
        "map.npc.veryStrong": "Очень сильные",
        "map.npc.marauders": "Мародеры",
        "map.npc.freedomBase": "База Свободы",
        "map.npc.dutyBase": "База Долга",
        "map.npc.mercsBase": "База Наемников",
        "map.npc.militaryCheckpoint": "Военный блокпост"
    },

    en: {
        // ========== НАВИГАЦИЯ ==========
        "nav.home": "Home",
        "nav.map": "Map",
        "nav.artifacts": "Artifacts",
        "nav.calculator": "Calculator",
        "nav.dps": "DPS",
        "nav.mapFull": "Interactive Map",
        "nav.artifactsTable": "Artifacts Table",
        "nav.buildsCalculator": "Build Calculator",
        "nav.dpsCalculator": "DPS Calculator",

        // ========== ГЛАВНАЯ СТРАНИЦА ==========
        "hero.desc": "Official knowledge base for Project Cataclysm game",
        "cards.artifacts.title": "Artifacts",
        "cards.artifacts.desc": "Complete catalog with stats and prices",
        "cards.calculator.title": "Build Calculator",
        "cards.calculator.desc": "Create the optimal artifact build",
        "cards.dps.title": "DPS Calculator",
        "cards.dps.desc": "Damage per second calculation",
        "cards.map.title": "Interactive Map",
        "cards.map.desc": "All locations and points of interest",

        // Частоты RF-ресивера
        "rf.title": "RF Receiver Frequencies",
        "rf.mhz": "MHz",
        "rf.junkyard": "Dump",
        "rf.agroprom": "Agroprom",
        "rf.darkHollow": "Dark Hollow",
        "rf.darkValley": "Dark Valley",
        "rf.redForest": "Thinwood",
        "rf.wildTerritory": "Wild Territory",
        "rf.yantar": "Yantar",
        "rf.meadow": "Glade",
        "rf.anthill": "Anthill",
        "rf.polissya": "Polesskoye",
        "rf.militaryWarehouses": "Army Warehouses",
        "rf.crater": "Frost Hollow",

        // Обновления
        "updates.title": "Updates",
        "updates.date0": "February 5, 2026",
        "updates.update0_1": "The entire website has been translated to English",
        "updates.update0_2": "Added language switch button",
        "updates.date1": "February 3, 2026",
        "updates.update1_1": "Added interactive map",
        "updates.update1_2": "Marked crates, mutants, traders and NPCs",
        "updates.update1_3": "Implemented filter system",
        "updates.date2": "February 2, 2026",
        "updates.update2_1": "Completely updated DPS calculator UX",
        "updates.update2_2": "Added all weapon information in the game",
        "updates.update2_3": "Implemented TTK calculation via graph",
        "updates.date3": "February 1, 2026",
        "updates.update3_1": "Rebuilt main page",
        "updates.update3_2": "Added RF receiver frequencies",
        "updates.update3_3": "Added 6 new armor suits",
        "updates.update3_4": "Fixed exoskeleton upgrade presets",
        "updates.date4": "January 30, 2026",
        "updates.update4_1": "Build calculator updated to final version",
        "updates.update4_2": "Added most of the equipment",
        "updates.update4_3": "Reworked calculator UX",
        "updates.date5": "January 23, 2026",
        "updates.update5_1": "Extended calculator functionality",
        "updates.update5_2": "Added \"Yggdrasil\" exoskeleton",
        "updates.update5_3": "Added \"Goblet\" artifact variations",
        "updates.date6": "January 11, 2026",
        "updates.update6_1": "Added artifact build calculator",
        "updates.update6_2": "Updated website design",

        // О проекте
        "about.title": "About",
        "about.text": "<strong>Project Cataclysm Wiki</strong> — an official knowledge base for the game. Here you'll find up-to-date information: artifact tables, build calculator, interactive map and reference data.",

        // Футер
        "footer.copy": "© 2026 Project Cataclysm Wiki. Official site.",

        // ========== СТРАНИЦА АРТЕФАКТОВ ==========
        "artifacts.pageTitle": "Artifacts",
        "artifacts.pageSubtitle": "Complete artifact catalog with stats and prices",
        "artifacts.cat.gravity": "Gravitational",
        "artifacts.cat.chemical": "Chemical",
        "artifacts.cat.electric": "Electrical",
        "artifacts.cat.thermal": "Thermal",
        "artifacts.cat.unique": "Unique",
        "artifacts.cat.frost": "Frost",
        "artifacts.catFull.gravity": "Gravitational Artifacts",
        "artifacts.catFull.chemical": "Chemical Artifacts",
        "artifacts.catFull.electric": "Electrical Artifacts",
        "artifacts.catFull.thermal": "Thermal Artifacts",
        "artifacts.catFull.unique": "Unique Artifacts",
        "artifacts.catFull.frost": "Frost Artifacts",
        "artifacts.artifactsCount": "artifacts",
        "artifacts.winterEvent": "Winter Event",
        "artifacts.th.tier": "Tier",
        "artifacts.th.icon": "Icon",
        "artifacts.th.name": "Name",
        "artifacts.th.properties": "Properties",
        "artifacts.th.price": "Price",
        "artifacts.price.cantSell": "Cannot sell",
        "artifacts.price.event": "Event",

        // Свойства артефактов
        "prop.regeneration": "Regeneration",
        "prop.bleeding": "Bleeding",
        "prop.radiation": "Radiation",
        "prop.radiationProtection": "Radiation protection",
        "prop.tearProtection": "Rupture protection",
        "prop.maxWeight": "Max weight",
        "prop.bulletProof": "Bullet resistance",
        "prop.psiProtection": "Psi protection",
        "prop.maxStamina": "Max stamina",
        "prop.impactDamping": "Impact damping",
        "prop.satiety": "Satiety",
        "prop.bioProtection": "Bio protection",
        "prop.tempProtection": "Temperature protection",
        "prop.thermalProtection": "Thermal protection",
        "prop.chemProtection": "Chemical protection",
        "prop.staminaRegen": "Stamina recovery",
        "prop.electroProtection": "Electrical protection",
        "prop.frostProtection": "Frost protection",
        "prop.moveSpeed": "Movement speed",
        "prop.cold": "Cold",
        "prop.sec": "sec",
        "prop.kg": "kg",
        "prop.msvSec": "mSv/sec",

        // Названия артефактов
        "artifact.bloodStone": "Blood Stone",
        "artifact.vyvert": "Vyvert",
        "artifact.medusa": "Medusa",
        "artifact.stoneFlower": "Stone Flower",
        "artifact.meatChunk": "Meat Chunk",
        "artifact.gravi": "Gravi",
        "artifact.nightStar": "Night Star",
        "artifact.mercuryBall": "Mercury Ball",
        "artifact.goldFish": "Goldfish",
        "artifact.spring": "Spring",
        "artifact.goldenGravi": "Golden Gravi",
        "artifact.yantarnik": "Yantarnik",
        "artifact.soul": "Soul",
        "artifact.darkMedusa": "Dark Medusa",
        "artifact.protoMedusa": "Protomedusa",
        "artifact.slime": "Slime",
        "artifact.thorn": "Rusty Thorn",
        "artifact.slug": "Slug",
        "artifact.bileStone": "Bile Stone",
        "artifact.swampRot": "Swamp Rot",
        "artifact.crystalThorn": "Crystal Thorn",
        "artifact.firefly": "Firefly",
        "artifact.mica": "Mica",
        "artifact.pellicle": "Pellicle",
        "artifact.seaUrchin": "Sea Urchin",
        "artifact.kolobok": "Kolobok",
        "artifact.bubble": "Bubble",
        "artifact.sparkler": "Sparkler",
        "artifact.flash": "Flash",
        "artifact.battery": "Battery",
        "artifact.moonlight": "Moonlight",
        "artifact.heavenlyStone": "Heavenly Stone",
        "artifact.medium": "Medium",
        "artifact.electroMica": "Electro Mica",
        "artifact.dummy": "Dummy",
        "artifact.halogen": "Halogen",
        "artifact.snowflake": "Snowflake",
        "artifact.droplet": "Droplet",
        "artifact.crystal": "Crystal",
        "artifact.fireball": "Fireball",
        "artifact.momBeads": "Mom's Beads",
        "artifact.eye": "Eye",
        "artifact.flame": "Flame",
        "artifact.fireLoop": "Fire Loop",
        "artifact.dragonEye": "Dragon's Eye",
        "artifact.generator": "Generator",
        "artifact.medallion": "Medallion",
        "artifact.gobletBio": "Goblet (Bio)",
        "artifact.gobletGravity": "Goblet (Gravity)",
        "artifact.gobletThermal": "Goblet (Thermal)",
        "artifact.protoSnowflake": "Proto-snowflake",
        "artifact.frostbiter": "Frostbiter",
        "artifact.iceCrystal": "Ice Crystal",
        "artifact.polarStar": "Polar Star",
        "artifact.purpleTear": "Purple Tear",
        "artifact.iceFlower": "Ice Flower",
        "artifact.tesseract": "Tesseract",

        // ========== КАЛЬКУЛЯТОР СБОРОК ==========
        "calc.pageTitle": "Build Calculator",
        "calc.pageSubtitle": "Create the optimal build with armor, container and artifacts",
        "calc.armor": "Armor",
        "calc.container": "Container",
        "calc.artifacts": "Artifacts",
        "calc.selectArmor": "Select armor...",
        "calc.searchArmor": "Search armor...",
        "calc.selectContainer": "Select container...",
        "calc.searchContainer": "Search container...",
        "calc.resetSelection": "Reset selection",
        "calc.selectArmorHint": "Select armor to view stats",
        "calc.selectContainerHint": "Select container to add artifacts",
        "calc.enhancementLevel": "Enhancement level",
        "calc.noBonuses": "No bonuses",
        "calc.totalStats": "Total Stats",
        "calc.resetBuild": "Reset build",
        "calc.keyEffects": "Key Effects",
        "calc.effectiveBulletResistance": "Effective Bullet Resistance",
        "calc.bulletResistanceHint": "Bullet damage reduction percentage (diminishing returns formula). Armor penetration reduces effective bullet resistance.",

        // Группы характеристик
        "calc.group.protections": "Protections",
        "calc.group.resistances": "Resistances",
        "calc.group.armor": "Armor",
        "calc.group.character": "Character",

        // Характеристики калькулятора
        "calc.stat.regeneration": "Regeneration",
        "calc.stat.bleeding": "Bleeding",
        "calc.stat.radiation": "Radiation",
        "calc.stat.saturation": "Satiety",
        "calc.stat.cold": "Cold",
        "calc.stat.radiationProtection": "Radiation Protection",
        "calc.stat.bioProtection": "Bio Protection",
        "calc.stat.thermalProtection": "Temperature Protection",
        "calc.stat.psiProtection": "Psi Protection",
        "calc.stat.frostProtection": "Frost Protection",
        "calc.stat.heatResistance": "Thermal Resistance",
        "calc.stat.chemResistance": "Chemical Resistance",
        "calc.stat.electroResistance": "Electrical Resistance",
        "calc.stat.impactResistance": "Impact Damping",
        "calc.stat.tearProtection": "Rupture Protection",
        "calc.stat.bulletResistance": "Bullet Resistance",
        "calc.stat.maxStamina": "Max Stamina",
        "calc.stat.staminaRegen": "Stamina Recovery",
        "calc.stat.moveSpeed": "Movement Speed",
        "calc.stat.maxWeight": "Max Weight",

        // Модальное окно выбора артефакта
        "calc.modal.title": "Select Artifact",
        "calc.modal.slot": "Slot",
        "calc.modal.searchPlaceholder": "Artifact name...",
        "calc.modal.found": "Found:",
        "calc.modal.artifactsCount": "artifacts",
        "calc.modal.catAll": "All",
        "calc.modal.catGravity": "Gravity",
        "calc.modal.catChemical": "Chemical",
        "calc.modal.catElectric": "Electric",
        "calc.modal.catThermal": "Thermal",
        "calc.modal.catUnique": "Unique",
        "calc.modal.catFrost": "Frost",
        "calc.modal.noResults": "No artifacts found",
        "calc.modal.tryOtherFilters": "Try changing filters",

        // Слоты и предупреждения
        "calc.slot.empty": "Empty slot",
        "calc.slot.clickToAdd": "Click to add",
        "calc.warning.attention": "Warning",
        "calc.warning.radiation": "Radiation accumulation",
        "calc.warning.cold": "Cold accumulation",
        "calc.warning.bleeding": "Bleeding accumulation",
        "calc.warning.healthLoss": "Health loss",
        "calc.warning.saturation": "Hunger accumulation",

        // Редкости
        "calc.rarity.legendary": "Legendary",
        "calc.rarity.unique": "Unique",
        "calc.rarity.rare": "Rare",
        "calc.rarity.collection": "Collection",
        "calc.rarity.uncommon": "Uncommon",
        "calc.rarity.common": "Common",

        // Типы контейнеров
        "calc.containerType.standard": "Standard",
        "calc.containerType.bulky": "Bulky",
        "calc.containerType.compact": "Compact",
        "calc.containerType.spacious": "Spacious",

        // Единицы измерения
        "calc.unit.sec": "sec",
        "calc.unit.kg": "kg",
        "calc.unit.msvSec": "mSv/sec",
        "calc.unit.slots": "slots",
        "calc.unit.perSec": "/sec",
        "calc.unit.percentSec": "%/sec",

        // Прочее калькулятора
        "calc.armorNotFound": "Armor not found",
        "calc.containerNotFound": "Container not found",
        "calc.shielding": "Shielding",
        "calc.noShielding": "No shielding",
        "calc.noShieldingFull": "No shielding",
        "calc.shieldingTitle": "Shielding",
        "calc.removeArtifact": "Remove artifact",
        "calc.filter.any": "Any",
        "calc.filter.byProperties": "Filter by properties",
        "calc.filter.positive": "Positive",
        "calc.filter.negative": "Negative",
        "calc.filter.resetAll": "Reset all",

        // ========== DPS КАЛЬКУЛЯТОР ==========
        "dps.pageTitle": "DPS Calculator",
        "dps.pageSubtitle": "Compare weapon damage considering armor, ammo and distance",
        "dps.weaponNotFound": "Weapon not found",

        // Характеристики оружия
        "dps.stat.verticalRecoil": "Vertical recoil",
        "dps.stat.horizontalRecoil": "Horizontal recoil",
        "dps.stat.hipSpread": "Hip spread",
        "dps.stat.adsSpread": "ADS spread",
        "dps.stat.armorPen": "Armor penetration",
        "dps.stat.damage": "Damage",
        "dps.stat.rpm": "Fire rate",
        "dps.stat.accuracy": "Accuracy",
        "dps.stat.recoil": "Recoil",
        "dps.stat.range": "Range",
        "dps.stat.magazine": "Magazine",
        "dps.stat.reloadTime": "Reload time",
        "dps.stat.headshotMult": "Headshot mult.",

        // Слоты сравнения
        "dps.notSelected": "Not selected",
        "dps.remove": "Remove",
        "dps.add": "Add",
        "dps.slot1": "Slot 1",
        "dps.slot2": "Slot 2",
        "dps.slot3": "Slot 3",
        "dps.slot4": "Slot 4",
        "dps.slot5": "Slot 5",

        // Оружие
        "dps.weapon": "Weapon",
        "dps.selectWeapon": "Select weapon...",
        "dps.searchWeapon": "Search weapon...",
        "dps.resetSelection": "Reset selection",
        "dps.selectWeaponHint": "Select weapon for calculation",

        // Патроны
        "dps.ammo": "Ammo",
        "dps.selectWeaponFirst": "First select a weapon...",
        "dps.selectAmmo": "Select ammo...",
        "dps.damageModifier": "Damage modifier",
        "dps.armorPenetration": "Armor penetration",
        "dps.pelletCount": "Pellet count",

        // Цель
        "dps.target": "Target",
        "dps.bulletResistance": "Bullet resistance",
        "dps.targetHP": "Target HP",
        "dps.distance": "Distance (m)",
        "dps.bulletProtection": "Bullet protection:",
        "dps.effectiveProtection": "Effective protection:",

        // График TTK
        "dps.ttkChart": "TTK Chart",
        "dps.body": "Body",
        "dps.head": "Head",
        "dps.chartHint": "Click on chart to set distance",
        "dps.chartPlaceholder": "Select weapon to display TTK chart",

        // Результаты
        "dps.results": "Results",
        "dps.resetAll": "Reset all",
        "dps.dpsBody": "DPS (body)",
        "dps.dpsHead": "DPS (head)",
        "dps.damagePerShot": "Damage per shot",
        "dps.baseDamage": "Base",
        "dps.atDistance": "At distance",
        "dps.afterArmor": "After armor",
        "dps.headshot": "Headshot",
        "dps.sec": "sec",
        "dps.shots": "shots",
        "dps.weaponStats": "Weapon stats",
        "dps.weaponComparison": "Weapon comparison",

        // Категории оружия
        "dps.cat.assault": "Assault rifles",
        "dps.cat.smg": "SMGs",
        "dps.cat.pistol": "Pistols",
        "dps.cat.shotgun": "Shotguns",
        "dps.cat.sniper": "Sniper rifles",
        "dps.cat.machinegun": "Machine guns",
        "dps.cat.special": "Special",

        // Редкости оружия
        "dps.rarity.common": "Common",
        "dps.rarity.uncommon": "Uncommon",
        "dps.rarity.collection": "Collection",
        "dps.rarity.rare": "Rare",
        "dps.rarity.unique": "Unique",
        "dps.rarity.legendary": "Legendary",

        // Таблица сравнения
        "dps.table.weapon": "Weapon",
        "dps.table.dpsBody": "DPS (body)",
        "dps.table.dpsHead": "DPS (head)",
        "dps.table.ttkBody": "TTK (body)",
        "dps.table.ttkHead": "TTK (head)",
        "dps.table.shotsBody": "Shots",
        "dps.table.shotsHead": "Shots",

        // Типы патронов
        "dps.ammoType.standard": "Standard",
        "dps.ammoType.hp": "Hollow Point (HP)",
        "dps.ammoType.ap": "Armor Piercing (AP)",
        "dps.ammoType.match": "Match",
        "dps.ammoType.tracer": "Tracer",
        "dps.ammoType.subsonic": "Subsonic",
        "dps.ammoType.buckshot": "Buckshot",
        "dps.ammoType.slug": "Slug",
        "dps.ammoType.flechette": "Flechette",

        // Описания патронов
        "dps.ammoDesc.standard": "Standard ammunition",
        "dps.ammoDesc.hp": "Increased damage, low penetration",
        "dps.ammoDesc.ap": "High armor penetration",
        "dps.ammoDesc.match": "Increased accuracy",
        "dps.ammoDesc.tracer": "Visible trajectory",
        "dps.ammoDesc.subsonic": "Quiet, for suppressor",
        "dps.ammoDesc.buckshot": "Multiple pellets",
        "dps.ammoDesc.slug": "Single projectile",
        "dps.ammoDesc.flechette": "Darts, high penetration",

        // ========== ИНТЕРАКТИВНАЯ КАРТА ==========
        "map.filters.title": "Filters",
        "map.filters.resetAll": "Reset all",
        "map.sidebar.toggle": "Collapse/Expand",

        // Категории меток
        "map.category.containers": "Containers",
        "map.category.mutants": "Mutants",
        "map.category.traders": "Traders",
        "map.category.npc": "NPCs",

        // Типы меток — контейнеры
        "map.marker.ammo": "Ammo",
        "map.marker.supply": "Supplies",
        "map.marker.tools": "Tools",
        "map.marker.barrels": "Barrels",
        "map.marker.science": "Scientific Equipment",
        "map.marker.stash": "Stashes",

        // Типы меток — мутанты
        "map.marker.blind_dog": "Blind Dogs",
        "map.marker.pseudodog": "Pseudodogs",
        "map.marker.flesh": "Fleshes",
        "map.marker.boar": "Boars",
        "map.marker.rat": "Rats",
        "map.marker.snork": "Snorks",
        "map.marker.zombie": "Zombies",
        "map.marker.bloodsucker": "Bloodsucker",
        "map.marker.bloodsucker_strong": "Elder Bloodsucker",
        "map.marker.chimera": "Chimera",

        // Типы меток — торговцы
        "map.marker.trader": "Dealer",

        // Типы меток — НПС
        "map.marker.zombified": "Zombified",
        "map.marker.bandits": "Bandits",
        "map.marker.military": "Military",
        "map.marker.freedom": "Freedom",
        "map.marker.duty": "Duty",
        "map.marker.mercs": "Mercenaries",
        "map.marker.sins": "Sinners",
        "map.marker.monolith": "Monolith",
        "map.marker.obliterator": "Obliterator",

        // Управление картой
        "map.controls.zoomIn": "Zoom In",
        "map.controls.zoomOut": "Zoom Out",
        "map.controls.resetView": "Reset View",
        "map.controls.fullscreen": "Fullscreen",

        // Пользовательские метки
        "map.userMarkers.addMarker": "Add Marker",
        "map.userMarkers.yourMarkers": "Your Markers",
        "map.userMarkers.copyAll": "Copy All",
        "map.userMarkers.deleteAll": "Delete All",
        "map.userMarkers.clickToAdd": "Click on the map to add a marker",
        "map.userMarkers.copyForSharing": "Copy for sharing",
        "map.userMarkers.cancel": "Cancel",
        "map.userMarkers.showOnMap": "Show on map",
        "map.userMarkers.copy": "Copy",
        "map.userMarkers.delete": "Delete",

        // Модальное окно метки
        "map.modal.newMarker": "New Marker",
        "map.modal.coordinates": "Coordinates:",
        "map.modal.category": "Category:",
        "map.modal.selectCategory": "Select category",
        "map.modal.description": "Description / Comment:",
        "map.modal.descriptionPlaceholder": "Example: On the second floor, behind the boxes...",
        "map.modal.gameCoords": "Game coordinates (if known):",
        "map.modal.gameCoordsPlaceholder": "Example: -426, 69, -370",
        "map.modal.cancel": "Cancel",
        "map.modal.add": "Add",

        // Уведомления карты
        "map.toast.copied": "Copied to clipboard!",
        "map.toast.markerAdded": "Marker added!",
        "map.toast.markerCodeCopied": "Marker code copied!",
        "map.toast.allMarkersCopied": "All markers copied!",
        "map.toast.copiedForDiscord": "Copied for Discord!",
        "map.toast.allMarkersDeleted": "All markers deleted",
        "map.confirm.deleteAllMarkers": "Delete all your markers?",

        // Всплывающие окна карты
        "map.popup.yourMarker": "your marker",
        "map.popup.gameCoords": "Game coords",
        "map.popup.pixels": "Pixels",

        // Локации мутантов
        "map.mutant.location.tunnel": "Laboratory in the tunnel",
        "map.mutant.location.tunnelMini": "Mini laboratory in the tunnel",
        "map.mutant.location.inLab": "Located in the laboratory",
        "map.mutant.location.agropromUnderground": "Agroprom Underground",
        "map.mutant.location.cave": "Laboratory in the cave",
        "map.mutant.location.x16": "Laboratory X-16",
        "map.mutant.location.x16exit": "Exit from Laboratory X-16",
        "map.mutant.location.x18": "Laboratory X-18",
        "map.mutant.location.x18floor1": "Laboratory X-18<br>-1 floor",
        "map.mutant.location.x18floor2": "Laboratory X-18<br>-2 floor",

        // Контейнеры
        "map.container.coords": "Coordinates",
        "map.container.alsoContains": "Also contains",
        "map.container.track": "Track",

        // Торговцы
        "map.trader.appearsOn": "Appears",
        "map.trader.time": "Time",
        "map.trader.floor3": "on the third floor",
        "map.trader.roofUpper": "on the upper level of the roof",
        "map.trader.boilerFloor2": "on the second floor of the boiler room",
        "map.trader.farRoom": "on the second floor in the far room",
        "map.trader.corridor": "on the second floor in the corridor",
        "map.trader.untilRainEnds": "end of rain",

        // НПС
        "map.npc.base": "Base",
        "map.npc.checkpoint": "checkpoint",
        "map.npc.veryStrong": "Very strong",
        "map.npc.marauders": "Marauders",
        "map.npc.freedomBase": "Freedom Base",
        "map.npc.dutyBase": "Duty Base",
        "map.npc.mercsBase": "Mercenary Base",
        "map.npc.militaryCheckpoint": "Military checkpoint"
    }
};

class I18n {
    constructor() {
        this.currentLang = localStorage.getItem('wiki-lang') || 'ru';
        this.init();
    }

    init() {
        this.setLanguage(this.currentLang);
        this.setupEventListeners();
    }

    setupEventListeners() {
        const langSwitcher = document.getElementById('langSwitcher');
        const langDropdown = document.getElementById('langDropdown');

        if (langSwitcher && langDropdown) {
            langSwitcher.addEventListener('click', (e) => {
                e.stopPropagation();
                langDropdown.classList.toggle('active');
            });

            document.addEventListener('click', () => {
                langDropdown.classList.remove('active');
            });

            langDropdown.querySelectorAll('.lang-dropdown__item').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    this.setLanguage(btn.dataset.lang);
                    langDropdown.classList.remove('active');
                });
            });
        }

        document.querySelectorAll('.mobile-lang-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                this.setLanguage(btn.dataset.lang);
            });
        });
    }

    setLanguage(lang) {
        if (!translations[lang]) return;

        this.currentLang = lang;
        localStorage.setItem('wiki-lang', lang);
        document.documentElement.lang = lang;

        const currentLangEl = document.getElementById('currentLang');
        if (currentLangEl) {
            currentLangEl.textContent = lang.toUpperCase();
        }

        document.querySelectorAll('.lang-dropdown__item').forEach(btn => {
            btn.classList.toggle('active', btn.dataset.lang === lang);
        });

        document.querySelectorAll('.mobile-lang-btn').forEach(btn => {
            btn.classList.toggle('active', btn.dataset.lang === lang);
        });

        this.translatePage();
        this.updateArtifactNames();

        document.dispatchEvent(new CustomEvent('languageChanged', { 
            detail: { lang: this.currentLang } 
        }));
    }

    translatePage() {
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.dataset.i18n;
            const translation = translations[this.currentLang][key];
            if (translation) {
                if (translation.includes('<')) {
                    el.innerHTML = translation;
                } else {
                    el.textContent = translation;
                }
            }
        });

        document.querySelectorAll('[data-placeholder-i18n]').forEach(el => {
            const key = el.dataset.placeholderI18n;
            const translation = translations[this.currentLang][key];
            if (translation) {
                el.placeholder = translation;
            }
        });

        document.querySelectorAll('[data-title-i18n]').forEach(el => {
            const key = el.dataset.titleI18n;
            const translation = translations[this.currentLang][key];
            if (translation) {
                el.title = translation;
            }
        });
    }

    updateArtifactNames() {
        const isEnglish = this.currentLang === 'en';

        document.querySelectorAll('.artifact-name').forEach(nameEl => {
            const ruName = nameEl.querySelector('.artifact-name__ru');
            const enName = nameEl.querySelector('.artifact-name__en');

            if (ruName && enName) {
                if (isEnglish) {
                    ruName.style.display = 'none';
                    enName.style.display = 'block';
                    enName.style.fontSize = '14px';
                    enName.style.color = 'var(--color-text)';
                } else {
                    ruName.style.display = 'block';
                    enName.style.display = 'block';
                    enName.style.fontSize = '';
                    enName.style.color = '';
                }
            }
        });
    }

    /**
     * Получить перевод по ключу
     * @param {string} key — ключ перевода
     * @param {object} params — параметры для подстановки
     * @returns {string} переведённая строка или ключ
     */
    t(key, params = {}) {
        let translation = translations[this.currentLang][key] || key;
        Object.keys(params).forEach(param => {
            translation = translation.replace(new RegExp(`{${param}}`, 'g'), params[param]);
        });
        return translation;
    }

    /** Получить текущий язык */
    getCurrentLang() {
        return this.currentLang;
    }

    /** Проверить, является ли текущий язык английским */
    isEnglish() {
        return this.currentLang === 'en';
    }

    /** Проверить, является ли текущий язык русским */
    isRussian() {
        return this.currentLang === 'ru';
    }
}

const i18n = new I18n();
window.i18n = i18n;

if (typeof module !== 'undefined' && module.exports) {
    module.exports = { I18n, translations };
}